<div class="container">
  <div class="table-container">

  <div class="filter">
    <mat-form-field>
      <mat-label>جستجو</mat-label>
      <input matInput [(ngModel)]="inputFilter" (keyup)="filterByInput($event)" placeholder="جستجو کنید ..." #input>
    </mat-form-field>
    <div class="signal-type-container">
      <mat-checkbox [(ngModel)]="vipSignal" (change)="filterBySignalType()">VIP</mat-checkbox>
      <mat-checkbox [(ngModel)]="strongSignal" (change)="filterBySignalType()">Strong</mat-checkbox>
      <mat-checkbox [disabled]="!this.strongSignal && !this.vipSignal" [(ngModel)]="superSignal"(change)="filterBySignalType()">Super</mat-checkbox>
    </div>
  </div>

  <div class="main-table">
   <table mat-table [dataSource]="dataSource" matSort>

    <ng-container *ngFor="let i of [0]" [matColumnDef]="cols[i].eng">
      <th mat-header-cell class="text-center" *matHeaderCellDef mat-sort-header>{{cols[i].fa}}</th>
      <td mat-cell *matCellDef="let element"><a class="hover" (click)="goToDetailsPage(element)">{{element[cols[i].eng]}} </a></td>
    </ng-container>

    <ng-container *ngFor="let i of [1, 2, 3, 4, 5, 6, 7]" [matColumnDef]="cols[i].eng">
      <th mat-header-cell class="text-center" *matHeaderCellDef mat-sort-header>{{cols[i].fa}}</th>
      <td mat-cell *matCellDef="let element"><span>{{element[cols[i].eng]}} </span></td>
    </ng-container>

    <ng-container *ngFor="let i of [8]" [matColumnDef]="cols[i].eng">
      <th mat-header-cell class="bl" *matHeaderCellDef mat-sort-header>{{cols[i].fa}}</th>
      <td mat-cell class="bl" *matCellDef="let element"><span>{{element[cols[i].eng]}} </span></td>
    </ng-container>

    <ng-container *ngFor="let i of [9, 10]" [matColumnDef]="cols[i].eng">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>{{cols[i].fa}}</th>
      <td mat-cell *matCellDef="let element"><span>{{element[cols[i].eng]}} </span></td>
    </ng-container>

    <ng-container *ngFor="let i of [11]" [matColumnDef]="cols[i].eng">
      <th mat-header-cell class="bl" *matHeaderCellDef mat-sort-header>{{cols[i].fa}}</th>
      <td mat-cell class="bl" *matCellDef="let element"><span>{{element[cols[i].eng]}} </span></td>
    </ng-container>

    <ng-container *ngFor="let i of [12, 13]" [matColumnDef]="cols[i].eng">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>{{cols[i].fa}}</th>
      <td mat-cell *matCellDef="let element"><span>{{element[cols[i].eng]}} </span></td>
    </ng-container>

    <ng-container *ngFor="let i of [14]" [matColumnDef]="cols[i].eng">
      <th mat-header-cell class="bl" *matHeaderCellDef mat-sort-header>{{cols[i].fa}}</th>
      <td mat-cell class="bl" *matCellDef="let element"><span>{{element[cols[i].eng]}} </span></td>
    </ng-container>

    <ng-container *ngFor="let i of [15, 16, 17]" [matColumnDef]="cols[i].eng">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>{{cols[i].fa}}</th>
      <td mat-cell  *matCellDef="let element"><span>{{element[cols[i].eng]}} </span></td>
    </ng-container>

    <ng-container matColumnDef="header-row-first-group">
      <th mat-header-cell class="first-header-row" *matHeaderCellDef [attr.colspan]="9" [style.text-align]="'center'">وضعیت تابلو</th>
    </ng-container>

    <!-- Header row third group -->
    <ng-container matColumnDef="header-row-second-group">
      <th mat-header-cell class="first-header-row" *matHeaderCellDef [attr.colspan]="3" [style.text-align]="'center'">وضعیت خرید در 5 دقیقه اخیر</th>
    </ng-container>

    <!-- Header row forth group -->
    <ng-container matColumnDef="header-row-third-group">
      <th mat-header-cell class="first-header-row" *matHeaderCellDef [attr.colspan]="3" [style.text-align]="'center'">وضعیت خرید در 30 ثانیه اخیر</th>
    </ng-container>

    <!-- Header row fifth group -->
    <ng-container matColumnDef="header-row-forth-group">
      <th mat-header-cell  *matHeaderCellDef [attr.colspan]="3" [style.text-align]="'center'">سایر</th>
    </ng-container>

<!--    <ng-container matColumnDef="header-row-fifth-group">-->
<!--      <mat-header-cell *matHeaderCellDef [attr.colspan]="1" class="text-center">سایر</mat-header-cell>-->
<!--    </ng-container>-->


    <!-- Rows -->
    <tr mat-header-row *matHeaderRowDef="['header-row-first-group', 'header-row-second-group', 'header-row-third-group', 'header-row-forth-group']"></tr>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

  </table>

<!--  <mat-paginator [length]="1000" [pageSize]="10" [pageSizeOptions]="[1, 5, 10, 20, 50, 100, 200, 500]"></mat-paginator>-->
  </div>

</div>

  <div class="responsive-table-container">

    <div class="tools">
      <div class="filter">
        <mat-form-field>
          <mat-label>جستجو</mat-label>
          <input matInput [(ngModel)]="inputFilter"  (keyup)="filterByInput($event)" placeholder="جستجو کنید ..." #input>
        </mat-form-field>
        <div class="signal-type-container">
          <mat-checkbox [(ngModel)]="vipSignal" (change)="filterBySignalType()">VIP</mat-checkbox>
          <mat-checkbox [(ngModel)]="strongSignal" (change)="filterBySignalType()">Strong</mat-checkbox>
          <mat-checkbox [disabled]="!this.strongSignal && !this.vipSignal" [(ngModel)]="superSignal"(change)="filterBySignalType()">Super</mat-checkbox>
        </div>
      </div>

<!--      <div>-->
<!--        <mat-radio-group aria-label="نحوه مرتب سازی">-->
<!--          <mat-radio-button value="asc">صعودی</mat-radio-button>-->
<!--          <mat-radio-button value="desc">نزولی</mat-radio-button>-->
<!--        </mat-radio-group>-->
<!--      </div>-->

      <div class="sort">
        <div class="sort-dir">
          <mat-radio-group aria-label="نحوه مرتب سازی">
            <mat-radio-button value="asc" (click)="orderData(lastSortColumn, 'asc')">صعودی</mat-radio-button>
            <mat-radio-button value="desc" (click)="orderData(lastSortColumn, 'desc')">نزولی</mat-radio-button>
          </mat-radio-group>
        </div>
        <mat-form-field appearance="fill">
          <mat-label>مرتب سازی براساس</mat-label>
          <mat-select (selectionChange)="orderData($event.value, 'asc')">
            <mat-option *ngFor="let opt of cols" [value]="opt.eng">{{opt.fa_rep}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>

  <div>
    <mat-table [dataSource]="dataSource" matSort>
      <ng-container *ngFor="let i of [0]" [matColumnDef]="cols[i].eng">
        <mat-header-cell mat-header-cell *matHeaderCellDef>{{cols[i].fa_rep}}</mat-header-cell>
        <mat-cell mat-cell *matCellDef="let element"   [attr.data-label]="cols[i].fa_rep"><a class="hover" (click)="goToDetailsPage(element)">{{element[cols[i].eng]}} </a></mat-cell>
      </ng-container>

      <ng-container *ngFor="let i of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17]" [matColumnDef]="cols[i].eng">
        <mat-header-cell mat-sort-header *matHeaderCellDef>{{cols[i].fa_rep}}</mat-header-cell>
        <mat-cell mat-cell *matCellDef="let element" [attr.data-label]="cols[i].fa_rep"><span>{{element[cols[i].eng]}} </span></mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

    </mat-table>


  </div>

</div>

  <mat-paginator [length]="1000" [pageSize]="10" [pageSizeOptions]="[1, 5, 10, 20, 50, 100, 200, 500]"></mat-paginator>
</div>
